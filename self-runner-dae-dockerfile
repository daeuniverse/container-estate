FROM summerwind/actions-runner:ubuntu-22.04

RUN sudo apt-get update -y && \
    sudo apt-get install curl llvm clang git make -y

WORKDIR /tmp

RUN curl -OL https://golang.org/dl/go1.16.7.linux-amd64.tar.gz && \
    sudo tar -C /usr/local -xvf go1.16.7.linux-amd64.tar.gz && \
    echo "export PATH=$PATH:/usr/local/go/bin" >> $HOME/.bashrc

RUN sudo apt-get install 

RUN sudo apt-get clean autoclean && \
    sudo apt-get autoremove -y && \
    sudo rm -rf /var/lib/{apt,dpkg,cache,log}/ && \
    sudo rm -rf /tmp/*

USER runner
WORKDIR /home/runner
